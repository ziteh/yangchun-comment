---
title: Privacy
---

Yang Chun Comment 是以隱私為優先進行設計的。

## 留言者匿名（Anonymous）和假名（Pseudonym）

留言者在留言時可以自由選擇是否要輸入昵稱（Nickname），如果留空則此留言會保持為匿名（Anonymous），如果有輸入任何昵稱的話，會在網頁前端進行 SHA-256 的雜湊運算，然後再根據雜湊值在固定的詞庫中選擇一組形容詞和名詞，組合在一起成為假名（Pseudonym），只有這個假名會被傳輸到後端伺服器並儲存在資料庫中。

假名刻意設計成容易發生碰撞，非常難以逆向回推使用者原始輸入的昵稱。使用的詞庫不大（139 個形容詞和 549 個名詞）。評估指定碰撞的可能性：總詞組空間為 139\*549=76,311。即使使用普通的 CPU 進行 SHA-256 計算，也可以馬上遍歷整個空間，得出任意一個指定的假名。

## 資料收集

前端網頁會傳送給後端伺服器的資料僅包含：

- 可選的假名
- 留言內容
- 回應的留言 ID（若有）
- Email

其中 Email 是作為 Honeypot 使用，正常的人類使用者是無法填入該值的，在後端伺服器中也不會儲存此值的任何形式。

後端伺服器實際會儲存的資料包含：

- id: 留言 ID，由後端伺服器生成。
- pseudonym：可選的假名，來自前端。
- msg：留言內容，來自前端。
- pubDate：發佈留言的時間戳，由後端產生。
- modDate：編輯或刪除留言的時間戳，由後端產生。
- replyTo：回應的留言 ID，來自前端。
- isAdmin：是否是管理員的留言，後端透過管理員的 HttpOnly Cookie判斷。

## 瀏覽器指紋識別（Browser Fingerprinting）

對於***留言者***的流量限制是採用工作量證明（Proof-of-Work）機制，未使用任何包含用戶個人資訊的識別方式。

但是對於***管理員***登入流程，系統會短期暫存經由 HMAC-SHA256（含伺服端密鑰）處理後的 IP 位址雜湊值，並將其作為流量限制與暴力破解防禦機制中的識別依據。

此方式具備有限的識別能力，但並不等同於完整的瀏覽器指紋識別，因為：

1. 多名使用者可能在公共或企業網路環境中共享相同的 IP 位址。
2. 單一使用者可能因 ISP 的動態位址分配而於不同時間使用不同的 IP 位址。
3. IP 位址經 HMAC-SHA256 處理後屬於不可逆雜湊，無法由雜湊值還原原始 IP。

因此，單純基於 IP 位址（即使經過雜湊處理）的識別方式，無法有效或穩定地唯一識別一名使用者，與真正的瀏覽器指紋識別方案（例如 [FingerprintJS](https://fingerprint.com/github/)）仍存在明顯差距。

## Cookie

對於***留言者***來說，不會使用任何 cookie。

對於***管理員***的登入憑證會使用 HttpOnly cookie。

## 留言編輯憑證

對於***留言者***來說，發佈留言後，後端伺服器會回傳一個包含密鑰的 HMAC-SHA256 的 Token，此 Token 不會儲存在 LocalStorage 或 SessionStorage 中，而是存在 JavaScript 的變數中。
